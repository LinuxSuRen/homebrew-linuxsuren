# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Ks < Formula
  desc "ks is a tool which makes it be easy to work with KubeSphere."
  homepage "https://github.com/kubesphere-sigs/ks"
  version "0.0.48"
  bottle :unneeded

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/kubesphere-sigs/ks/releases/download/v0.0.48/ks-darwin-amd64.tar.gz"
      sha256 "64ab1f9e79a5ab49a9596ac86c8300dd54ec855ecb3b215ba761bbde1f4bd763"
    end
    if Hardware::CPU.arm?
      url "https://github.com/kubesphere-sigs/ks/releases/download/v0.0.48/ks-darwin-arm64.tar.gz"
      sha256 "44a0a9a7c6a2b231ce9c2137d4a032db23c3997085afcf7410677588b902824d"
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/kubesphere-sigs/ks/releases/download/v0.0.48/ks-linux-amd64.tar.gz"
      sha256 "19c0d82d6b0949ece109c18f26f29ae36ce935a40ace4d35ffeb582ab6fbd12f"
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/kubesphere-sigs/ks/releases/download/v0.0.48/ks-linux-arm64.tar.gz"
      sha256 "0584ed87d14ad776e1482e20e34a73111828a19bd3c0500aa1741a6081f9a4ac"
    end
  end

  depends_on "vim" => :optional
  depends_on "bash-completion" => :optional
  depends_on "kubectl" => :optional

  def install
    bin.install name

    prefix.install_metafiles
  end

  test do
    version_output = shell_output("#{bin}/ks version")
    assert_match version.to_s, version_output
  end
end
